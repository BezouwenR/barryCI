include ./head.pug
script(defer, src="/public/consoleStandard.js")
link(href='/public/resultPage.css', rel='stylesheet')
link(href='/public/list.css', rel='stylesheet')

// https://getbootstrap.com/docs/3.3/css/#grid-example-basic

.container

  .row
    .col
      h3.mb-4=info.project + ' build result'
      .card.mb-3#infocard(class='border-' + info.panel)
        .card-body
          h5.card-title Information
          table(class='table table-condensed')
            thead
              tr
                th Commit
                th Reference
                th Last updated
            tbody
              tr
                td=info.commit
                td=info.ref
                td#timeUpdated=info.timestamp

  .row
    .col
      if info.test === undefined
        .card.mb-3
          .card-header Build result
          .card-body
            textarea#console.form-control(rows='20', readonly)=info.message
      else
        .card.mb-3
          .card-header Unit Test results
          .card-body
            table(id='unittests', class='table table-hover table-borderless')
              tbody
                - var colour = ''
                for test in info.test.list
                  if test.success === true
                    - colour = 'fa fa-check text-green'
                  else
                    - colour = 'fa fa-times text-red'
                  tr
                    td
                      div(class=colour)
                    td=test.name
