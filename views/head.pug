doctype html
html(lang='en')
  head
    link(rel="stylesheet" href="/public/global.css")

    link(rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css")
    link(rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css")
    
    script(defer, src="https://code.jquery.com/jquery-3.2.1.slim.min.js")
    script(defer, src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js")
    script(defer, src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js")

    script(defer, src="https://cdn.socket.io/socket.io-1.2.0.js")
    //Cannot defer
    script(src="https://cdn.rawgit.com/showdownjs/showdown/1.8.6/dist/showdown.min.js")

    if project !== undefined
      title=project
    else
      title barryCI
  body
    nav.navbar.navbar-expand-lg.navbar-light.bg-light.mb-5
      .navbar-brand
        a(href='/app/list')
          img(src='/public/barryci-icon.svg' height='50em')
      button.navbar-toggler(type='button', data-toggle='collapse', data-target='#navbarSupportedContent', aria-controls='navbarSupportedContent', aria-expanded='false', aria-label='Toggle navigation')
        span.navbar-toggler-icon
      #navbarSupportedContent.collapse.navbar-collapse
        ul.navbar-nav.mr-auto
          if username !== undefined
            li.nav-item
              a.nav-link(href='/app/list') Dashboard
            li.nav-item
              a.nav-link(href='/app/manage') Manage builds
            li.nav-item
              a.nav-link(href='/app/plugins') Manage plugins
            li.nav-item
              a.nav-link(target='_blank', href='https://github.com/WorksOfBarry/barryCI/wiki') Help
            li.nav-item
              a.nav-link(href='/app/logout')

        if username === undefined
          form.form-inline.my-2.my-lg-0(action='/login')
            button.btn.btn-secondary.my-2.my-sm-0(type='submit') Login
        else
          form.form-inline.my-2.my-lg-0(action='/app/logout')
            span.nav-item=username
            button.btn.btn-secondary.my-2.my-sm-0.ml-3(type='submit') Log out
